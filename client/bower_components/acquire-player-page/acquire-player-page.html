<link rel="import" href="../paper-header-panel/paper-header-panel.html">
<link rel="import" href="../paper-toolbar/paper-toolbar.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../iron-icons/iron-icons.html">

<link rel="import" href="../polymer/polymer.html">

<dom-module id="acquire-player-page">

  <template>
    <style>
      paper-button {
        display: block;
        max-width: 12em;
        margin: 1em auto;
        color: white;
        background-color: #1c66e3;
      }
      paper-icon-button {
        margin-left: -12px;
        margin-right: 8px;
        color: white;
      }
    </style>
    
    <paper-header-panel mode="waterfall">
      <paper-toolbar id="header">
        <a href="#home"><paper-icon-button icon="arrow-back"></paper-icon-button></a>
        <h3 class="flex">Play game</h3>
      </paper-toolbar>
      <main>
        <paper-input type="text" label="Message"></paper-input>
        <paper-button id="send-button">Send</paper-button>
        <div id="messages"></div>
      </main>
    </paper-header-panel>
    
    <script>
      "use strict";
      
      $('paper-button').click(function(evt) {
      var input = $('paper-input')[0];
      var val = input.value;
      
      if (val !== '') {
        socket.emit('chat message', val);
        console.log('submitting:', val);
        input.value = '';
      }
      });
      
      socket.on('chat message', function(msg) {
        console.log(msg);
        $('#messages').append($('<p>').text(msg));
      });
    </script>
  </template>
  
  <script>
    Polymer({
      is: "acquire-player-page"
    });
  </script>

</dom-module>