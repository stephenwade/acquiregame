<link rel="import" href="../polymer/polymer.html">

<dom-module id="acquire-board-page">
  <style>
    html, body, :host, canvas {
      display: block;
      
      width: 100%;
      height: 100%;
      padding: 0;
      margin: 0;
      
      overflow: hidden;
      font-size: 0;
    }
  </style>

  <template>
    <canvas id="canvas">
      Say “Hello!” to the year 2000 for me!
    </canvas>
  </template>
  
  <script src="./tile.js"></script>
  <script src="./view.js"></script>
  <script>
    'use strict';
    
    Polymer({
      is: 'acquire-board-page',
      
      attached: function() {
        if (! this.view) {
          this.view = new BoardView(this.$.canvas);
        }
        this.view.attach();
        this.view.resize();
        
        this.resizeHandler = () => this.view.resize()
        window.addEventListener('resize', this.resizeHandler );
        this.canvasClickHandler = () => this.view.fullscreen()
        this.$.canvas.addEventListener('click', this.canvasClickHandler );
      },
      
      detached: function() {
        this.view.detatch();
        window.removeEventListener('resize', this.resizeHandler);
        this.$.canvas.removeEventListener('click', this.canvasClickHandler);
      }
    });
  </script>

</dom-module>
