<link rel="import" href="../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">

<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="acquire-home-page">

  <template>
    <style>
      main paper-button {
        display: block;
        max-width: 12em;
        margin: 1em auto;
        color: white;
        background-color: #1c66e3;
      }
      @media (max-width: 600px) {
        #newgame-button {
          background-color: #aaa;
        }
      }
    </style>
    
    <paper-header-panel mode="waterfall">
      <paper-toolbar id="header">
        <h3 class="flex">Acquire</h3>
      </paper-toolbar>
      <div id="buttons">
        <main>
          <paper-button id="newgame-button" on-click="tryNewGame">New game</paper-button>
          <paper-button id="join-button" on-click="joinGame">Join game</paper-button>
        </main>
        <footer>
          <div>v0.0.6</div>
          <div id="footer-links">
            <span><a href="https://en.wikipedia.org/wiki/Acquire">rules</a></span>
            <span><a href="https://github.com/stephenwade/acquiregame">git</a></span>
            <span><a href="https://github.com/stephenwade/acquiregame/issues">issues</a></span>
          </div>
          </div>
        </footer>
      </div>
    </paper-header-panel>
    
    <paper-dialog modal>
      <h2>Screen too small</h2>
      <p>Your screen isnâ€™t big enough to be a game board. You can create a game from a bigger device.</p>
      <div class="buttons">
        <paper-button dialog-confirm autofocus>OK</paper-button>
      </div>
    </paper-dialog>
  </template>
  
  <script>
    'use strict';
    
    Polymer({
      is: 'acquire-home-page',
      
      tryNewGame: function() {
        if (window.matchMedia('(max-width: 600px)').matches)
          document.querySelector('paper-dialog').open();
        else
          window.location.hash = '#new';
      },
      
      joinGame: function() {
        window.location.hash = '#join';
      }
    });
  </script>

</dom-module>
